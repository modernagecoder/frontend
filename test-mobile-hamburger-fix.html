<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mobile Hamburger Fix Test</title>
    
    <!-- Load CSS -->
    <link rel="stylesheet" href="/src/css/style.css">
    <link rel="stylesheet" href="/src/css/responsive.css">
    <link rel="stylesheet" href="/src/css/mobile-nav-fix.css">
    <link rel="stylesheet" href="/src/css/mobile-nav-final-fix.css">
    
    <style>
        body {
            background: #000002;
            color: #fff;
            font-family: 'Inter', sans-serif;
            padding: 20px;
        }
        
        .test-container {
            max-width: 800px;
            margin: 100px auto 40px;
            padding: 2rem;
            background: rgba(16, 16, 28, 0.8);
            border-radius: 1rem;
            border: 1px solid rgba(168, 85, 247, 0.3);
        }
        
        .status {
            padding: 1rem;
            border-radius: 0.5rem;
            margin: 1rem 0;
            font-weight: 600;
        }
        
        .status.success {
            background: rgba(78, 205, 196, 0.2);
            border: 1px solid rgba(78, 205, 196, 0.5);
            color: #4ecdc4;
        }
        
        .status.error {
            background: rgba(255, 107, 107, 0.2);
            border: 1px solid rgba(255, 107, 107, 0.5);
            color: #ff6b6b;
        }
        
        .status.info {
            background: rgba(168, 85, 247, 0.2);
            border: 1px solid rgba(168, 85, 247, 0.5);
            color: #a855f7;
        }
        
        .log {
            background: rgba(0, 0, 0, 0.5);
            padding: 1rem;
            border-radius: 0.5rem;
            margin: 1rem 0;
            font-family: 'Courier New', monospace;
            font-size: 0.875rem;
            max-height: 300px;
            overflow-y: auto;
        }
        
        .log-entry {
            margin: 0.25rem 0;
            padding: 0.25rem;
        }
        
        button {
            background: rgba(168, 85, 247, 0.8);
            color: #fff;
            border: none;
            padding: 0.75rem 1.5rem;
            border-radius: 0.5rem;
            cursor: pointer;
            margin: 0.5rem 0.5rem 0.5rem 0;
            min-height: 44px;
            min-width: 44px;
        }
        
        button:hover {
            background: rgba(168, 85, 247, 1);
        }
        
        h1 {
            color: #a855f7;
            margin-bottom: 1rem;
        }
        
        h2 {
            color: #4ecdc4;
            margin-top: 2rem;
            margin-bottom: 1rem;
        }
    </style>
</head>
<body>
    <!-- Navigation placeholder - will be loaded by components-loader.js -->
    <div id="nav-placeholder"></div>
    
    <div class="test-container">
        <h1>üçî Mobile Hamburger Menu Fix Test</h1>
        
        <div id="status" class="status info">
            ‚è≥ Initializing test...
        </div>
        
        <h2>Instructions:</h2>
        <ol>
            <li><strong>Resize your browser</strong> to mobile width (‚â§900px) or use DevTools mobile view</li>
            <li><strong>Look for the hamburger icon</strong> (‚ò∞) in the top right corner</li>
            <li><strong>Click the hamburger icon</strong> - the menu should slide in from the left</li>
            <li><strong>Click again</strong> to close the menu</li>
            <li><strong>Check the debug log below</strong> to see what's happening</li>
        </ol>
        
        <h2>Debug Controls:</h2>
        <button onclick="checkElements()">Check Elements</button>
        <button onclick="testHamburgerClick()">Test Hamburger Click</button>
        <button onclick="clearLog()">Clear Log</button>
        <button onclick="location.reload()">Reload Page</button>
        
        <h2>Debug Log:</h2>
        <div id="log" class="log"></div>
    </div>
    
    <!-- Footer placeholder -->
    <div id="footer-placeholder"></div>
    
    <!-- Load scripts in correct order -->
    <script>
        // Capture console logs
        const logContainer = document.getElementById('log');
        const originalLog = console.log;
        const originalError = console.error;
        const originalWarn = console.warn;
        
        function addLogEntry(message, type = 'log') {
            const entry = document.createElement('div');
            entry.className = 'log-entry';
            entry.style.color = type === 'error' ? '#ff6b6b' : type === 'warn' ? '#f59e0b' : '#4ecdc4';
            entry.textContent = `[${new Date().toLocaleTimeString()}] ${message}`;
            logContainer.appendChild(entry);
            logContainer.scrollTop = logContainer.scrollHeight;
        }
        
        console.log = function(...args) {
            originalLog.apply(console, args);
            addLogEntry(args.join(' '), 'log');
        };
        
        console.error = function(...args) {
            originalError.apply(console, args);
            addLogEntry('ERROR: ' + args.join(' '), 'error');
        };
        
        console.warn = function(...args) {
            originalWarn.apply(console, args);
            addLogEntry('WARN: ' + args.join(' '), 'warn');
        };
        
        function updateStatus(message, type) {
            const status = document.getElementById('status');
            status.textContent = message;
            status.className = 'status ' + type;
        }
        
        function checkElements() {
            console.log('üîç Checking for elements...');
            const mobileMenuBtn = document.getElementById('mobileMenuBtn');
            const navMenu = document.getElementById('navMenu');
            
            if (mobileMenuBtn && navMenu) {
                updateStatus('‚úÖ All elements found! Hamburger should work.', 'success');
                console.log('‚úÖ mobileMenuBtn found:', mobileMenuBtn);
                console.log('‚úÖ navMenu found:', navMenu);
                console.log('navMenu classes:', navMenu.className);
                console.log('mobileMenuBtn classes:', mobileMenuBtn.className);
            } else {
                updateStatus('‚ùå Elements missing! Hamburger won\'t work.', 'error');
                console.log('‚ùå mobileMenuBtn:', mobileMenuBtn ? 'found' : 'NOT FOUND');
                console.log('‚ùå navMenu:', navMenu ? 'found' : 'NOT FOUND');
            }
        }
        
        function testHamburgerClick() {
            console.log('üñ±Ô∏è Simulating hamburger click...');
            const mobileMenuBtn = document.getElementById('mobileMenuBtn');
            if (mobileMenuBtn) {
                mobileMenuBtn.click();
                console.log('‚úÖ Click simulated');
            } else {
                console.log('‚ùå Hamburger button not found');
            }
        }
        
        function clearLog() {
            logContainer.innerHTML = '';
            console.log('Log cleared');
        }
        
        // Monitor componentsLoaded event
        document.addEventListener('componentsLoaded', function() {
            console.log('üéâ componentsLoaded event fired!');
            updateStatus('‚úÖ Components loaded successfully!', 'success');
            setTimeout(checkElements, 200);
        });
        
        // Check after page load
        window.addEventListener('load', function() {
            console.log('üìÑ Page fully loaded');
            setTimeout(checkElements, 500);
        });
        
        console.log('üöÄ Test page initialized');
    </script>
    
    <!-- CRITICAL: Load components-loader.js FIRST -->
    <script src="/js/components-loader.js"></script>
    
    <!-- Then load mobile navigation -->
    <script src="/js/mobile-navigation.js"></script>
</body>
</html>
